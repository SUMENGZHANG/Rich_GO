# é¡¹ç›®æ¶æ„å¿«é€Ÿå‚è€ƒ

## ä¸€ã€ç›®å½•ç»“æ„æ€»è§ˆ

```
rich_go/
â”‚
â”œâ”€â”€ ğŸ“ cmd/                    # åº”ç”¨ç¨‹åºå…¥å£
â”‚   â””â”€â”€ main.go               # ä¸»ç¨‹åºå…¥å£ç‚¹
â”‚
â”œâ”€â”€ ğŸ“ internal/              # ğŸ”’ ç§æœ‰ä»£ç ï¼ˆå¤–éƒ¨ä¸å¯å¯¼å…¥ï¼‰
â”‚   â”œâ”€â”€ app/                  # åº”ç”¨æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â””â”€â”€ app.go           # App ç»“æ„ä½“ï¼Œåè°ƒç»„ä»¶
â”‚   â”‚
â”‚   â””â”€â”€ server/               # HTTP æœåŠ¡å™¨å®ç°
â”‚       â””â”€â”€ http_server.go    # Gin æœåŠ¡å™¨å°è£…
â”‚
â”œâ”€â”€ ğŸ“ pkg/                    # ğŸ“¦ å…¬å…±åº“ï¼ˆå¤–éƒ¨å¯å¯¼å…¥ï¼‰
â”‚   â””â”€â”€ (ç©ºï¼Œæœªæ¥æ‰©å±•)
â”‚
â”œâ”€â”€ ğŸ“ api/                    # API å®šä¹‰æ–‡ä»¶
â”‚   â””â”€â”€ (ç©ºï¼Œæœªæ¥æ‰©å±•)
â”‚
â”œâ”€â”€ ğŸ“ configs/               # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.example.yaml
â”‚
â”œâ”€â”€ ğŸ“ docs/                  # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ project_architecture.md
â”‚   â”œâ”€â”€ internal_package_explained.md
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ“ examples/              # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ gin_example.go
â”‚
â”œâ”€â”€ ğŸ“ scripts/               # è„šæœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ go.mod                    # Go æ¨¡å—å®šä¹‰
â”œâ”€â”€ go.sum                    # ä¾èµ–æ ¡éªŒå’Œ
â”œâ”€â”€ Makefile                  # æ„å»ºè„šæœ¬
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

## äºŒã€æ¶æ„å±‚æ¬¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å…¥å£å±‚: cmd/main.go                    â”‚
â”‚  - ç¨‹åºå¯åŠ¨ç‚¹                            â”‚
â”‚  - åˆå§‹åŒ–åº”ç”¨                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åº”ç”¨å±‚: internal/app/                   â”‚
â”‚  - App ç»“æ„ä½“                            â”‚
â”‚  - ç»„ä»¶åè°ƒ                              â”‚
â”‚  - ç”Ÿå‘½å‘¨æœŸç®¡ç†                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœåŠ¡å±‚: internal/server/                â”‚
â”‚  - HTTP æœåŠ¡å™¨                           â”‚
â”‚  - è·¯ç”±æ³¨å†Œ                              â”‚
â”‚  - è¯·æ±‚å¤„ç†                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¡†æ¶å±‚: gin-gonic/gin                   â”‚
â”‚  - HTTP æ¡†æ¶                             â”‚
â”‚  - è·¯ç”±å¼•æ“                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¸‰ã€internal åŒ…çš„ä½œç”¨

### ğŸ”’ æ ¸å¿ƒç‰¹æ€§

```
internal/ ç›®å½•ä¸‹çš„åŒ…ï¼š
âœ… å¯ä»¥è¢«é¡¹ç›®å†…éƒ¨å¯¼å…¥
âŒ æ— æ³•è¢«å¤–éƒ¨é¡¹ç›®å¯¼å…¥
```

### ğŸ“¦ è®¿é—®è§„åˆ™

```
é¡¹ç›®å†…éƒ¨ âœ…
â”œâ”€â”€ cmd/main.go          â†’ å¯ä»¥å¯¼å…¥ internal/*
â”œâ”€â”€ internal/app/        â†’ å¯ä»¥å¯¼å…¥ internal/*
â””â”€â”€ pkg/                 â†’ å¯ä»¥å¯¼å…¥ internal/*

å¤–éƒ¨é¡¹ç›® âŒ
â””â”€â”€ other_project/       â†’ æ— æ³•å¯¼å…¥ internal/*
```

### ğŸ“‹ å½“å‰ internal ç»“æ„

```
internal/
â”œâ”€â”€ app/                  # åº”ç”¨æ ¸å¿ƒ
â”‚   â””â”€â”€ app.go          # App ç»“æ„ä½“
â”‚
â””â”€â”€ server/              # HTTP æœåŠ¡å™¨
    â””â”€â”€ http_server.go   # Gin æœåŠ¡å™¨å®ç°
```

## å››ã€ä»£ç è°ƒç”¨å…³ç³»

### è°ƒç”¨é“¾

```
main()
  â”‚
  â”œâ”€> app.New()
  â”‚     â”‚
  â”‚     â””â”€> server.NewHTTPServer()
  â”‚           â”œâ”€> gin.Default()
  â”‚           â”œâ”€> setupMiddleware()
  â”‚           â””â”€> setupRoutes()
  â”‚
  â””â”€> app.Run()
        â”‚
        â””â”€> server.Start()
              â”‚
              â””â”€> router.Run()
```

### ä¾èµ–å…³ç³»

```
main (cmd/main.go)
  â†“ import
app (internal/app)
  â†“ import
server (internal/server)
  â†“ import
gin (å¤–éƒ¨åº“)
```

## äº”ã€å…³é”®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | èŒè´£ | å¯è§æ€§ |
|------|------|--------|
| `cmd/main.go` | ç¨‹åºå…¥å£ | å…¬å¼€ |
| `internal/app/app.go` | åº”ç”¨æ ¸å¿ƒé€»è¾‘ | ğŸ”’ ç§æœ‰ |
| `internal/server/http_server.go` | HTTP æœåŠ¡å™¨å®ç° | ğŸ”’ ç§æœ‰ |
| `pkg/*` | å…¬å…±åº“ | ğŸ“¦ å…¬å¼€ |
| `configs/*` | é…ç½®æ–‡ä»¶ | å…¬å¼€ |

## å…­ã€è®¾è®¡åŸåˆ™

### âœ… åˆ†å±‚æ¶æ„
- æ¸…æ™°çš„å±‚æ¬¡åˆ’åˆ†
- æ¯å±‚èŒè´£å•ä¸€
- ä¸Šå±‚ä¾èµ–ä¸‹å±‚

### âœ… å°è£…åŸåˆ™
- internal å°è£…å†…éƒ¨å®ç°
- pkg æš´éœ²å…¬å…± API
- æœ€å°åŒ–æš´éœ²èŒƒå›´

### âœ… æ‰©å±•æ€§
- ç»„ä»¶åŒ–è®¾è®¡
- æ˜“äºæ·»åŠ æ–°åŠŸèƒ½
- å¯æ›¿æ¢å®ç°

## ä¸ƒã€å¿«é€Ÿå‚è€ƒ

### internal vs pkg

| ç‰¹æ€§ | internal/ | pkg/ |
|------|-----------|------|
| å¯è§æ€§ | ğŸ”’ ä»…å†…éƒ¨ | ğŸ“¦ å¤–éƒ¨å¯è®¿é—® |
| ç”¨é€” | å†…éƒ¨å®ç° | å…¬å…± API |
| ç¨³å®šæ€§ | å¯é¢‘ç¹å˜æ›´ | éœ€ä¿æŒç¨³å®š |

### ä½•æ—¶ä½¿ç”¨ internalï¼Ÿ

âœ… **ä½¿ç”¨ internal/**:
- å†…éƒ¨å®ç°ç»†èŠ‚
- ä¸å¸Œæœ›å¤–éƒ¨ä¾èµ–
- å¯èƒ½é¢‘ç¹å˜æ›´

âœ… **ä½¿ç”¨ pkg/**:
- å…¬å…± API
- å¸Œæœ›å¤–éƒ¨ä½¿ç”¨
- éœ€è¦ä¿æŒç¨³å®š

## å…«ã€å½“å‰é¡¹ç›®ç‰¹ç‚¹

- âœ… **ç®€æ´æ¸…æ™°**: ä¸‰å±‚æ¶æ„
- âœ… **èŒè´£æ˜ç¡®**: æ¯å±‚å•ä¸€èŒè´£
- âœ… **æ˜“äºæ‰©å±•**: å¯æ·»åŠ æ–°ç»„ä»¶
- âœ… **ç¬¦åˆè§„èŒƒ**: éµå¾ª Go æœ€ä½³å®è·µ

## ç›¸å…³æ–‡æ¡£

- ğŸ“– [é¡¹ç›®æ¶æ„è¯¦è§£](project_architecture.md)
- ğŸ“– [internal åŒ…è¯¦è§£](internal_package_explained.md)
- ğŸ“– [Go è¿è¡Œæ—¶æ¶æ„](go_runtime_architecture.md)

